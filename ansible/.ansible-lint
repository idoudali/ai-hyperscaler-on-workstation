# Ansible Lint Configuration for HPC SLURM Infrastructure
# See https://ansible-lint.readthedocs.io/configuring/ for more information

# Profile defines rules set to use
profile: production  # ansible >= 2.12

# Additional paths to search for rules and collections
rulesdir: []

# Skip certain rules
skip_list:
  # Skip rules that may not apply to infrastructure provisioning
  - yaml[line-length]       # Allow longer lines for readability
  - risky-shell-pipe        # Infrastructure scripts often use pipes
  - package-latest          # Allow latest packages in infrastructure setup
  - fqcn[action-core]       # Allow core ansible modules without FQCN
  - name[casing]           # Allow flexible task naming
  - jinja[spacing]         # Allow flexible jinja spacing

# Warnings only (don't fail on these)
warn_list:
  - experimental            # Warn about experimental features
  - ignore-errors          # Warn about ignore_errors usage
  - deprecated-module      # Warn about deprecated modules

# Use default rules except for skipped ones
use_default_rules: true

# Enable offline mode (don't check for newer versions)
offline: false

# Exclude certain directories/files
exclude_paths:
  - .cache/
  - .github/
  - .tox/
  - docs/
  - tests/
  - molecule/

# Set verbosity level
verbosity: 1

# Loop detection
loop_var_prefix: "ansible_loop"
