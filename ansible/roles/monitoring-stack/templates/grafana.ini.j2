# grafana.ini - Grafana configuration file
# Generated by Ansible - DO NOT EDIT MANUALLY

[server]
# The HTTP port to use
http_port = {{ grafana_port }}

# The public facing domain name used to access grafana from a browser
domain = localhost

# Redirect to correct domain if the host header does not match domain
enforce_domain = false

# The full public URL used to access Grafana from a browser
root_url = %(protocol)s://%(domain)s:%(http_port)s/

# Serve Grafana from subpath specified in root_url setting. By default it is set to false for compatibility reasons.
serve_from_sub_path = false

[database]
# Database type
type = sqlite3

# Path to database file
path = {{ grafana_data_dir }}/grafana.db

[session]
# Session provider, default is file
provider = file

# Session cookie name
cookie_name = grafana_session

# Session cookie secure, set to true for HTTPS
cookie_secure = false

[analytics]
# Disable analytics reporting
reporting_enabled = false
check_for_updates = false

[security]
# Default admin user
admin_user = {{ grafana_admin_user }}
# WARNING: Do NOT use 'admin' as the admin password. Set grafana_admin_password securely via Ansible Vault or external secrets.
admin_password = {{ grafana_admin_password }}

# Disable login form
disable_login_form = false

# Disable user signup / registration
disable_user_signup = true

# Allow embedding
allow_embedding = true

[users]
# Disable user registration
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_role = Viewer

[auth.anonymous]
# Enable anonymous access
enabled = false

[paths]
# Path to where grafana stores its data
data = {{ grafana_data_dir }}

# Path to where grafana stores logs
logs = {{ grafana_logs_dir }}

# Path to where grafana stores plugins
plugins = {{ grafana_plugins_dir }}

# Path to provisioning configuration
provisioning = {{ grafana_provisioning_dir }}

# Temporary files in this directory
temp_data_lifetime = 24h

[log]
# Log level
level = info

# Log filters
filters = ""

# Console logging
mode = console

[log.console]
# Log level for console output
level = info

# Console output format
format = console

[alerting]
# Execute alerts
execute_alerts = true

# Default alert rule execution interval
execute_alerts_interval_seconds = 60

# Alerting backends to enable
enabled_backends = []

[metrics]
# Disable metrics endpoint
enabled = false

[unified_alerting]
# Enable unified alerting
enabled = true

[unified_alerting.screenshots]
# Enable screenshots for alert notifications
enabled = false

[feature_toggles]
# Enable new features
enable = tempoSearch tempoBackendSearch
