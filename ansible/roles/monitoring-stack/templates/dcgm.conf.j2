# NVIDIA DCGM Configuration File
# Generated by Ansible monitoring-stack role

# Host Engine Configuration
[host-engine]
# Port on which the DCGM host engine listens
port = {{ dcgm_host_engine_port }}

# Socket path for Unix domain socket communication
socket_path = {{ dcgm_socket_path }}

# Enable/disable verbose logging
verbose = {{ dcgm_verbose_logging | lower }}

# Log file location
log_file = {{ dcgm_log_file }}

# Log level (NONE, ERROR, WARNING, INFO, DEBUG)
log_level = {{ dcgm_log_level }}

# Enable/disable syslog
use_syslog = {{ dcgm_use_syslog | lower }}

# Monitoring Configuration
[monitoring]
# Polling interval for GPU metrics (in milliseconds)
polling_interval = {{ dcgm_polling_interval }}

# Maximum number of samples to store
max_samples = {{ dcgm_max_samples }}

# Enable/disable automatic field group updates
auto_update = {{ dcgm_auto_update | lower }}

# GPU Health Monitoring
[health]
# Enable/disable health monitoring
enabled = {{ dcgm_health_monitoring | lower }}

# Health check interval (in seconds)
check_interval = {{ dcgm_health_check_interval }}

# Profiling Configuration
[profiling]
# Enable/disable GPU profiling
enabled = {{ dcgm_profiling_enabled | lower }}

# Profiling metrics to collect
# Options: none, summary, detailed
profiling_level = {{ dcgm_profiling_level }}

# Field Groups Configuration
[field-groups]
# Enable standard field groups
enable_standard = {{ dcgm_enable_standard_fields | lower }}

# Custom field groups (comma-separated list)
custom_groups = {{ dcgm_custom_field_groups | join(',') }}

# Security Configuration
[security]
# Enable/disable authentication
auth_enabled = {{ dcgm_auth_enabled | lower }}

# Connection timeout (in seconds)
connection_timeout = {{ dcgm_connection_timeout }}

# Enable/disable SSL/TLS
enable_tls = {{ dcgm_enable_tls | lower }}

# Performance Configuration
[performance]
# Maximum number of concurrent connections
max_connections = {{ dcgm_max_connections }}

# Enable/disable GPU sharing
gpu_sharing = {{ dcgm_gpu_sharing | lower }}

# Cache Configuration
[cache]
# Enable/disable metric caching
enabled = {{ dcgm_cache_enabled | lower }}

# Cache size (in MB)
cache_size = {{ dcgm_cache_size }}

# Cache TTL (in seconds)
cache_ttl = {{ dcgm_cache_ttl }}
