---
# SLURM Controller Role - Default Variables
# This file contains default variables for the SLURM controller role
# These can be overridden in playbooks or inventory

# SLURM version
slurm_version: "21.08"

# Controller configuration
slurm_controller_name: "controller"
slurm_controller_port: 6817

# Database configuration
slurm_database_host: "localhost"
slurm_database_port: 3306
slurm_database_name: "slurm_acct_db"
slurm_database_user: "slurm"

# MUNGE configuration
munge_key_path: "/etc/munge/munge.key"

# PMIx configuration
pmix_enabled: true
pmix_ports: "12000-12999"

# Resource management
gres_types: "gpu"
select_type: "select/cons_tres"

# SLURM Controller Package Installation
slurm_controller_packages:
  - slurm-wlm              # Core SLURM workload manager
  - slurm-wlm-doc          # Documentation
  - slurmdbd               # Database daemon for accounting
  - slurm-client           # Client tools
  - munge                  # Authentication daemon
  - libmunge-dev           # Development libraries
  - mariadb-server         # Database backend
  - libmariadb-dev         # Database client libraries
  - libpmix2               # PMIx for MPI integration
  - libpmix-dev            # PMIx development headers

# Package installation settings
slurm_package_state: "present"
slurm_update_cache: true
slurm_cache_valid_time: 3600

# Build and deployment settings
packer_build: false
install_database: true
install_monitoring_stack: true
hpc_node_type: "controller"
